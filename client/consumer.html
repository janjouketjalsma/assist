<template name="consumer">
  <!-- always show new issue-->
  {{> newIssue}}
  {{> consumerIssues}}
</template>

<template name="newIssue">
  <div class="mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title">
      <h2 class="mdl-card__title-text">New issue</h2>
    </div>
    <div class="mdl-card__supporting-text">
      <form action="#">
        <div class="mdl-grid">
          <div class="mdl-cell mdl-cell--8-col mdl-cell--3-col-phone mdl-cell--6-col-tablet">
            <div class="mdl-textfield mdl-js-textfield">
              <input class="mdl-textfield__input" type="text">
              <label class="mdl-textfield__label">Description of the issue</label>
            </div>
          </div>
          <div class="mdl-cell mdl-cell--4-col mdl-cell--1-col-phone mdl-cell--2-col-tablet">
            <button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab">
              <i class="material-icons">add_a_photo</i>
            </button>
          </div>
          <div class="priority">
            <label for="Low">
               <input type="radio" name="priority" class="mdl-radioX__button" value="Low">
               <span>no priority</span>
            </label>
            <label for="Medium">
               <input type="radio" name="priority" class="mdl-radioX__button" value="Medium">
               <span>fix today</span>
            </label>
            <label for="High">
               <input type="radio" name="priority" class="mdl-radioX__button" value="High">
               <span>A.S.A.P.</span>
            </label>
          </div>
        </div>
      </form>
    </div>
    <button class="mdl-button mdl-js-button mdl-button--raised">
      Send
    </button>
  </div>
</template>

<template name="consumerIssues">
  {{#each tickets}}
    {{> issueCard}}
  {{/each}}
</template>

<template name="issueCard">
  <div class="mdl-card mdl-shadow--2dp">
    <div class="mdl-card__actions mdl-card--border issueCard">
      <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--4-col mdl-cell--1-col-phone mdl-cell--2-col-tablet issueHeading">
          <span class="statusText">{{status}}</span>
        </div>
        <div class="mdl-cell mdl-cell--7-col mdl-cell--2-col-phone mdl-cell--4-col-tablet headingText">
          {{firstMsg _id}}
        </div>
        <div class="mdl-cell mdl-cell--3-col mdl-cell--1-col-phone mdl-cell--2-col-tablet">
          <span class="badge" style="background-color:{{prioColor priority}}">{{priority}}</span>
        </div>
      </div>
      <div class="issueDetails">
        <div class="mdl-card__actions mdl-card--border">
          Messages here?
        </div>
      </div>
    </div>
  </div>
</template>
